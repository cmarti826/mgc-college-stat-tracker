/* app/globals.css */

/* Tailwind Layers */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- CSS Variables (MGC Palette) ---------- */
:root {
  --mgc-red: #B22234;
  --mgc-blue: #3C3B6E;
  --mgc-white: #FFFFFF;
  --mgc-gray: #E1E1E1;
  --ring: 0 0 0 3px rgba(60, 59, 110, 0.25);
  --shadow-soft: 0 6px 24px rgba(0, 0, 0, 0.06);
}

/* Dark Mode — subtle & readable */
@media (prefers-color-scheme: dark) {
  :root {
    --mgc-white: #F7F7FA;
    --mgc-gray: #2C2C39;
  }
}

/* ---------- Base Resets & Typography ---------- */
@layer base {
  *, *::before, *::after {
    box-sizing: border-box;
  }

  html {
    @apply scroll-smooth antialiased;
  }

  body {
    @apply min-h-screen bg-white text-gray-900;
  }

  h1 { @apply text-2xl sm:text-3xl font-extrabold tracking-tight; }
  h2 { @apply text-xl sm:text-2xl font-bold tracking-tight; }
  h3 { @apply text-lg sm:text-xl font-semibold; }
  h4 { @apply text-base sm:text-lg font-semibold; }

  p { @apply leading-relaxed; }
  small { @apply text-sm text-gray-600; }

  a {
    @apply text-[var(--mgc-blue)] hover:underline underline-offset-4 transition-colors;
  }

  /* Focus Ring — Accessible & Consistent */
  :focus-visible {
    outline: none;
    box-shadow: var(--ring);
    border-radius: 0.5rem;
  }

  /* Selection */
  ::selection {
    background: rgba(60, 59, 110, 0.2);
    color: inherit;
  }

  hr {
    @apply my-6 h-px border-0;
    background: linear-gradient(to right, var(--mgc-red), var(--mgc-white), var(--mgc-blue));
  }
}

/* ---------- Components ---------- */
@layer components {
  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center rounded-xl px-4 py-2 font-semibold transition-all duration-200 shadow-sm focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-[var(--mgc-blue)];
  }

  .btn-primary {
    @apply bg-[var(--mgc-red)] text-white hover:bg-[#8f1b2a] focus-visible:ring-red-500;
  }

  .btn-secondary {
    @apply bg-[var(--mgc-blue)] text-white hover:bg-[#2f2e5a] focus-visible:ring-blue-600;
  }

  .btn-outline {
    @apply border border-gray-300 bg-white text-[var(--mgc-blue)] hover:bg-gray-50;
  }

  /* On Dark Backgrounds */
  .btn-on-dark {
    @apply bg-white text-[var(--mgc-blue)] hover:bg-gray-100 border border-transparent;
  }

  .btn-on-dark-primary {
    @apply bg-[var(--mgc-red)] text-white hover:bg-[#8f1b2a] border border-white/20;
  }

  /* Cards */
  /* globals.css — already have */
.card { @apply rounded-2xl bg-white border border-gray-200 p-4 sm:p-6 shadow-soft; }
.card-header { @apply mb-3 flex items-center justify-between; }
.card-title { @apply text-lg font-bold; }
.card-subtle { @apply text-sm text-gray-600; }

  /* Chips */
  .chip {
    @apply inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold;
  }
  .chip-blue { @apply bg-blue-100/80 text-[var(--mgc-blue)]; }
  .chip-red { @apply bg-red-100/80 text-[var(--mgc-red)]; }

  /* Form Inputs */
  .input,
  input[type="text"],
  input[type="number"],
  input[type="email"],
  input[type="date"],
  input[type="time"],
  textarea,
  select {
    @apply w-full rounded-xl border border-gray-300 bg-white px-3 py-2 text-sm transition-colors;
    @apply focus:border-transparent focus:ring-2 focus:ring-[var(--mgc-blue)/0.25] focus:outline-none;
  }

  .label { @apply block text-sm font-medium text-gray-700 mb-1.5; }
  .help { @apply mt-1 text-xs text-gray-500; }

  /* Tables */
  .table {
    @apply w-full text-sm border-collapse;
  }
  .table th {
    @apply bg-gray-50 px-3 py-2 text-left font-semibold text-gray-700 border-b border-gray-200;
  }
  .table td {
    @apply border-b border-gray-200 px-3 py-2;
  }
  .table tr:hover td {
    @apply bg-gray-50 transition-colors;
  }

  /* Stats */
  .stat-number {
    @apply text-3xl font-extrabold tracking-tight text-[var(--mgc-blue)];
  }
  .stat-delta-pos { @apply text-green-600; }
  .stat-delta-neg { @apply text-red-600; }

  /* Accent */
  .flag-accent {
    @apply h-1 w-full rounded-full;
    background: linear-gradient(to right, var(--mgc-red), var(--mgc-white), var(--mgc-blue));
  }
}

/* ---------- Utilities ---------- */
@layer utilities {
  .border-flag {
    border: 2px solid transparent;
    border-image: linear-gradient(to right, var(--mgc-red), var(--mgc-blue)) 1;
  }
  .bg-flag-stripe {
    background: linear-gradient(90deg, var(--mgc-red) 0%, var(--mgc-white) 50%, var(--mgc-blue) 100%);
  }
  .text-flag {
    background: linear-gradient(90deg, var(--mgc-blue), var(--mgc-red));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }
  .shadow-soft { box-shadow: var(--shadow-soft); }
}

/* ---------- Scrollbar (WebKit) ---------- */
*::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
*::-webkit-scrollbar-track {
  @apply bg-gray-100 rounded-full;
}
*::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, var(--mgc-blue), var(--mgc-red));
  @apply rounded-full;
}
*::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, #2f2e5a, #8f1b2a);
}

/* Badge */
.badge {
  @apply ml-1 px-1.5 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700;
}